<div id="navigation-bar" class="flex justify-between items-center p-6">

    <style>
        [x-cloak] {
          display: none !important;
        }
      </style>

    <div class="flex-1 nav-item flex items-center">
        <button id="theme-toggle" type="button"class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-md text-sm p-1">
            <svg id="theme-toggle-dark-icon" width="25" height="25" class="hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
            </svg>
            <svg id="theme-toggle-light-icon" width="25" height="25" class="hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
            </svg>
        </button>
        <a href="/" class="font-bold md:text-3xl antialiased ps-4">Phil Charitou</a>
    </div>

    <button class="flex md:hidden flex-col flex-1 items-end align-middle nav-item" @click="openMenu = !openMenu"
      :aria-expanded="openMenu" aria-controls="mobile-navigation" aria-label="Navigation Menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <!-- Fullscreen Navigation -->
    <nav class="hidden md:flex flex-1 justify-end border-l gap-2 nav-item">
        <ul class="flex flex-row gap-2 ps-4">
            {{ nav:main_nav }}
            <li><a href="{{ url }}" class="py-2 px-4 hover:text-shadow block font-bold">{{ title }}</a></li>
            {{ /nav:main_nav  }}
        </ul>

        <div @keydown.escape="showSearch = (searchQuery !== ''); searchQuery = ''">
            <button type="button" aria-label="Search" title="Search" class="hidden md:flex items-center py-2 px-4 group hover:text-white transition font-bold antialiased" @click="showSearch = true; $focus.next()">
                <svg class="transition group-hover:text-white" xmlns="http://www.w3.org/2000/svg" height="21" width="21" viewBox="0 0 16 16"><path d="M15.587 14.413l-4.354-4.353A6.1 6.1 0 0012.5 6.333a6.18 6.18 0 10-2.44 4.907l4.353 4.353a.84.84 0 001.174 0 .833.833 0 000-1.18zM1.833 6.333a4.5 4.5 0 114.5 4.5 4.507 4.507 0 01-4.5-4.5z" fill="currentColor"/></svg>
            </button>
        </div>
    </nav>
</div>
