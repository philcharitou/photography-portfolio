<div class="bg-white dark:bg-neutral-700">
    <div id="navigation-bar" class="flex justify-between items-center text-white light-scrolled dark:dark-scrolled p-6">

        <style>
            [x-cloak] {
                display: none !important;
            }
        </style>

        <div class="flex-1 nav-item flex items-center text-inherit">
            <div class="dark:text-white nav-item hidden items-center md:flex">
                <button class="flex align-middle items-center nav-item pe-8 text-inherit" @click="openMenu = !openMenu"
                        :aria-expanded="openMenu" aria-controls="mobile-navigation" aria-label="Navigation Menu">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
            <a id="logo" href="/" class="md:text-2xl md:font-medium svg-white antialiased md:ps-4">
                <div class="flex">
                    {{ partial:logo }}
                </div>
            </a>
        </div>

        <button class="flex md:hidden flex-col flex-1 items-end align-middle nav-item" @click="openMenu = !openMenu"
                :aria-expanded="openMenu" aria-controls="mobile-navigation" aria-label="Navigation Menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>

        <!-- Fullscreen Navigation -->
        <nav class="hidden md:flex flex-1 justify-end border-l dark:border-white text-inherit gap-2 nav-item">
            <ul class="flex flex-row gap-2 ps-4">
                {{ nav:main_nav }}
                <li><a href="{{ url }}" class="py-2 px-4 block text-sm">{{ title }}</a></li>
                {{ /nav:main_nav  }}
            </ul>

            <div @keydown.escape="showSearch = (searchQuery !== ''); searchQuery = ''">
                <button type="button" aria-label="Search" title="Search" class="hidden md:flex items-center py-2 px-4 transition font-bold antialiased" @click="showSearch = true; $focus.next()">
                    <svg class="transition" xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 16 16"><path d="M15.587 14.413l-4.354-4.353A6.1 6.1 0 0012.5 6.333a6.18 6.18 0 10-2.44 4.907l4.353 4.353a.84.84 0 001.174 0 .833.833 0 000-1.18zM1.833 6.333a4.5 4.5 0 114.5 4.5 4.507 4.507 0 01-4.5-4.5z" fill="currentColor"/></svg>
                </button>
            </div>

            <div class="p-0">
                <a href="/login" class="hidden md:flex items-center py-2 px-4 transition font-bold antialiased">
                    {{ partial:profile size="16" }}
                </a>
            </div>
        </nav>
    </div>
</div>
